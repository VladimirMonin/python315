<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Grid Example</title>
    <!-- Подключение Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <style>
        .task {
            margin: 5px;
            padding: 5px;
            background-color: #eae0e0;
            cursor: pointer;
        }

        .done {
            text-decoration: line-through;
            background-color: #e0eae1;
        }

        #completed-tasks {
            margin-top: 20px;
            display: none;
        }

        button {
            margin-left: 10px;
            /* оформление  */
            border: 1px solid #000;
            border-radius: 5px;
            background-color: #eae0e0;
            cursor: pointer;
        }
        button:hover {
            background-color: #e0eae1;
            box-shadow: 0 0 5px #000;
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- Строка для двух колонок -->
        <div class="row">
            <!-- Колонка для больших экранов 6, для маленьких 12 -->
            <div class="col-lg-7 col-12">
                <div class="p-3 border bg-light">
                    <section>
                        <h1>Детальное задание для создания To-Do List</h1>
                        <ol>
                            <li>
                                <strong>Создание базового HTML-документа:</strong>
                                <ul>
                                    <li>Объявите тип документа для HTML5.</li>
                                    <li>Укажите язык содержимого страницы как русский.</li>
                                    <li>В разделе head укажите, что страница должна использовать кодировку UTF-8.</li>
                                    <li>Добавьте название вашего документа в теге title.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Добавление стилей CSS внутри документа:</strong>
                                <ul>
                                    <li>Создайте CSS правила для стилизации элементов страницы в теге style.</li>
                                    <li>Опишите внешний вид элементов, которые будут отображать задачи.</li>
                                    <li>Установите стиль <code>.done</code> для выполненных задач.</li>
                                    <li>Установите стиль <code>.task</code> для задач.</li>
                                    <li>Скройте раздел <code>#completed-tasks</code> с выполненными задачами, когда он
                                        пуст используя <code>display: none;</code></li>
                                </ul>
                            </li>
                            <li>
                                <strong>Разметка контента страницы:</strong>
                                <ul>
                                    <li>Поместите заголовок второго уровня <code>h2 - Активные задачи</code> перед
                                        областью для задач.</li>

                                    <li>Подготовьте контейнер для задач. <code>id - task-list</code> </li>
                                    <li>Разместите поле для ввода задачи <code>input type="text" id="task-input"</code>
                                        и кнопку <code>button id="add-task-btn"</code> для добавления задачи.</li>
                                    <li>Поместите заголовок второго уровня <code>h2 - Выполненные задачи</code> перед
                                        областью для выполненных задач.</li>
                                    <li>Подготовьте контейнер для выполненных задач. <code>id - completed-tasks</code>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <strong>Написание логики на JavaScript:</strong>
                                <ul>
                                    <li>Создайте функции для управления поведением to-do листа в блоке script.</li>
                                    <li>Реализуйте функцию для добавления новой задачи.</li>
                                    <li>Проверьте, что поле ввода не пустое, прежде чем добавлять задачу.</li>
                                    <li>Добавьте функцию для кнопки "Удалить", которая будет перемещать задачу в список
                                        выполненных.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Управление отображением выполненных задач:</strong>
                                <ul>
                                    <li>Реализуйте функцию, которая контролирует видимость раздела с выполненными
                                        задачами.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Привязка событий:</strong>
                                <ul>
                                    <li>Настройте обработчик события на кнопку "Добавить".</li>
                                    <li>Очистите поле ввода и обновите видимость выполненных задач после добавления
                                        задачи.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Тестирование функциональности:</strong>
                                <ul>
                                    <li>Проверьте, что добавление, удаление задач и отображение раздела выполненных
                                        задач работают корректно.</li>
                                    <li>Убедитесь, что интерфейс корректно отображается на разных устройствах.</li>
                                </ul>
                            </li>
                        </ol>
                    </section>

                </div>
            </div>
            <!-- Колонка для больших экранов 6, для маленьких 12 -->
            <!-- Работу выполняем внутри  div class="p-3 border bg-light-->
            <div class="col-lg-5 col-12">
                <!-- p-3 - отступы по краям, border - граница, bg-light - фоновый цвет, rounded - скругление углов -->
                <div class="p-3 border bg-light">
                    <h2>Активные задачи</h2>
                    <div id="task-list"></div>
                    <!-- BS5 class form-control -->
                    <input type="text" id="task-input" placeholder="Введите задачу">
                    <!-- BS5 class btn btn-dark -->
                    <button id="add-task-btn" onclick="addTask()">Добавить</button>

                    <h2>Выполненные задачи</h2>
                    <div id="completed-tasks"></div>

                </div>
            </div>
        </div>
    </div>

    <!-- Подключение Bootstrap Bundle JS (включает Popper) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script>
        function addTask() {
            // Переменная для поля ввода
            let input = document.getElementById('task-input');
            console.log(input)
            // Переменная для div с задачами
            let taskList = document.getElementById('task-list');
            // Переменная для текста задачи
            // .value - получает значение из поля ввода
            // .trim() - удаляет пробелы в начале и конце строки
            let taskText = input.value.trim();

            // Если taskText пустая строка, то выводим сообщение
            //  и выходим из функции через return
            if (taskText === '') {
                alert('Пожалуйста, введите задачу.');
                return;
            }

            // Переменная для div с задачей .createElement('div')
            let taskDiv = document.createElement('div');
            // Добавляем текст задачи в div
            taskDiv.textContent = taskText;
            // Добавляем класс task к div
            taskDiv.classList.add('task');

            // Переменная для кнопки удаления задачи .createElement('button')
            let deleteBtn = document.createElement('button');
            // Добавляем текст кнопки
            deleteBtn.textContent = 'Удалить';
            // Добавляем обработчик события на кнопку "Удалить"
            // TODO Попробовать вынести эту функцию в отдельную
            deleteBtn.onclick = function () {
                // Добавляем класс done к div с задачей
                taskDiv.classList.add('done');
                // Переменная для div с выполненными задачами
                // Добавляем наследника в div с выполненными задачами (taskDiv)
                document.getElementById('completed-tasks').appendChild(taskDiv);
                // Удаляем кнопку "Удалить"
                deleteBtn.remove();
                // Вызываем функцию для обновления видимости выполненных задач
                updateCompletedTasksVisibility();
            };
            // Добавляем кнопку "Удалить" в div с задачей
            taskDiv.appendChild(deleteBtn);
            // Добавляем div с задачей в div с задачами
            taskList.appendChild(taskDiv);
            // Очищаем поле ввода
            input.value = '';
            // Вызываем функцию для обновления видимости выполненных задач
            // Будет описана ниже
            updateCompletedTasksVisibility();
        }

        // document.getElementById('add-task-btn').onclick = addTask;
        // Функция для отображения выполненных задач

        function updateCompletedTasksVisibility() {
            // Переменная для div с выполненными задачами
            let completedTasks = document.getElementById('completed-tasks');
            // Проверка на наличие выполненных задач
            if (completedTasks.children.length > 0) {
                completedTasks.style.display = 'block';
            } else {
                // Если выполненных задач нет, то скрываем div с выполненными задачами
                completedTasks.style.display = 'none';
            }
        }
        // listener который делает это по загрузке ВСЕГО документа
        // window.onload - событие загрузки ВСЕГО документа
        // domContentLoaded - событие загрузки DOM дерева ()
        window.onload = function () {
            document.getElementById('add-task-btn').onclick = addTask;
        }
        
        // Массив объектов. 5 объектов. 2 ключа в каждом "old" "new"
        let arr = [
            {
                old: "Коля",
                new: "Николай"
            },
            {
                old: "Вася",
                new: "Василий"
            },
            {
                old: "Петя",
                new: "Петр"
            },
            {
                old: "Маша",
                new: "Мария"
            },
            {
                old: "Даша",
                new: "Дарья"
            }
        ];

    </script>
</body>

</html>